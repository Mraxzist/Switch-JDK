# Switch-JDK.ps1

[English](README.md) | **–†—É—Å—Å–∫–∏–π**

–ü–æ–ª–µ–∑–Ω—ã–π PowerShell-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏ JDK –Ω–∞ Windows.
–ê–≤—Ç–æ–ø–æ–∏—Å–∫ —É—Å—Ç–∞–Ω–æ–≤–æ–∫ (Adoptium/AdoptOpenJDK/Microsoft/Zulu/Oracle), —á–∏–Ω–∏—Ç `PATH`, –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç `JAVA_HOME`/`JDK_HOME`, —Ä–∞—Å—Å—ã–ª–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–π broadcast, –∏ –ø–µ—á–∞—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –≤–µ—Ä—Å–∏—é (`-version` –¥–ª—è JDK8, `--version` –¥–ª—è 9+).

> **–ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞:**
>
> ```powershell
> .\Switch-JDK.ps1 -Version 17
> .\Switch-JDK.ps1 -Version 24 -Vendor Oracle
> ```

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* üîé **–ê–≤—Ç–æ–¥–µ—Ç–µ–∫—Ç JDK** –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –ø—É—Ç—è–º –∏ —á–µ—Ä–µ–∑ —Ä–µ–µ—Å—Ç—Ä (–¥–ª—è Oracle).
* üè∑Ô∏è **–í–µ–Ω–¥–æ—Ä—ã:** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ¬´Any¬ª, –¥–ª—è Oracle ‚Äî `-Vendor Oracle`.
* üì£ **Broadcast –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è** ‚Äî –Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã —Å—Ä–∞–∑—É –≤–∏–¥—è—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è.
* üßë‚Äçüíª **–ë–µ–∑ –∞–¥–º–∏–Ω-–ø—Ä–∞–≤:** –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å –≤ `User`-–æ–±–ª–∞—Å—Ç—å; —Å –∞–¥–º–∏–Ω–æ–º ‚Äî –≤ `Machine`.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```powershell
# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ JDK 17
.\Switch-JDK.ps1 -Version 17

# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ Oracle JDK 24 (–∏—â–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Ä–µ–µ—Å—Ç—Ä JavaSoft)
.\Switch-JDK.ps1 -Version 24 -Vendor Oracle

# –Ø–≤–Ω–æ –≤—ã–±—Ä–∞—Ç—å –æ–±–ª–∞—Å—Ç—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é Auto: Machine, –µ—Å–ª–∏ –∞–¥–º–∏–Ω; –∏–Ω–∞—á–µ User)
.\Switch-JDK.ps1 -Version 11 -Scope User
.\Switch-JDK.ps1 -Version 21 -Scope Machine
```

–ü—Ä–æ–≤–µ—Ä–∫–∞:

```powershell
java -version   # –î–ª—è JDK 8
java --version  # –î–ª—è JDK 9+
```

---

## ‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä   | –¢–∏–ø / –î–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                                                             |
| ---------- | ------------------------- | ------------ | -------------------------------------------------------------------- |
| `-Version` | `8, 11, 17, 21, 24`       | ‚Äî            | –¶–µ–ª–µ–≤–∞—è –º–∞–∂–æ—Ä–Ω–∞—è –≤–µ—Ä—Å–∏—è JDK.                                         |
| `-Scope`   | `Auto, Machine, User`     | `Auto`       | –ö—É–¥–∞ –ø–∏—Å–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.                                    |
| `-Vendor`  | `Any, Oracle`             | `Any`        | –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π –≤–µ–Ω–¥–æ—Ä. –î–ª—è Oracle 24 ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–µ—Å—Ç—Ä JavaSoft. |

---

## üõ†Ô∏è –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 25, 26)

1. **–†–∞–∑—Ä–µ—à–∏ –Ω–æ–º–µ—Ä –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ** (`param(...)` –≤–≤–µ—Ä—Ö—É —Ñ–∞–π–ª–∞):

   ```powershell
   [ValidateSet(8,11,17,21,24,25,26)]
   [int]$Version,
   ```

> –î–æ–±–∞–≤—å –Ω–æ–≤—ã–µ –≤–µ–Ω–¥–æ—Ä–Ω—ã–µ –∫–æ—Ä–Ω–∏ –≤ –º–∞—Å—Å–∏–≤ `roots` (Liberica/Corretto/RedHat –∏ —Ç.–ø.), –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –¥—Ä—É–≥–∏–µ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤—ã:

> –ü—Ä–∏–º–µ—Ä

> ```powershell
> 'C:\Program Files\BellSoft',        # Liberica
> 'C:\Program Files\Amazon Corretto', # Corretto
> 'C:\Program Files\RedHat'           # Red Hat builds
> ```

---

## ‚ùó –í–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã

* **JDK 8** –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `--version` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π `java -version`. –°–∫—Ä–∏–ø—Ç —Å–∞–º –≤—ã–±–∏—Ä–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–ª–∞–≥.
* **–ó–∞–ø—É—â–µ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** (IDE, —Ç–µ—Ä–º–∏–Ω–∞–ª—ã) –º–æ–≥—É—Ç –Ω–µ —É–≤–∏–¥–µ—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö ‚Äî –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –∏—Ö –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è.
* **Machine-scope** —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞; –∏–Ω–∞—á–µ –∏—Å–ø–æ–ª—å–∑—É–π `-Scope User` –∏–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `Auto`.

---

## üßπ –ß—Ç–æ –∏–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è

* –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è: `JAVA_HOME`, `JDK_HOME`.
* `PATH`: —É–¥–∞–ª—è—é—Ç—Å—è —Å—Ç–∞—Ä—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã –≤–∏–¥–∞ `...\jdk*\bin`/`...\jre*\bin`, –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è `"<JDK_HOME>\bin"` –≤ –Ω–∞—á–∞–ª–æ.
* –¢–µ–∫—É—â–∞—è —Å–µ—Å—Å–∏—è PowerShell –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ; –ø–ª—é—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–Ω—ã–π broadcast `WM_SETTINGCHANGE`.

---